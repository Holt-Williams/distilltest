va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
ggplot(aes(date,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free_x", shrink=TRUE)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
filter(year==c("2009","2010","2020"))%>%
ggplot(aes(month,claims))+
geom_col()+
facet_grid(rows=vars(as_factor(year)),scales="free_x")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
filter(year==c("2009","2010","2020"))%>%
ggplot(aes(month,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free_x")
#Using the previous chart we can show each year :
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
ggplot(aes(date,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free_x", shrink=TRUE)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
filter(year==c("2009","2010","2020"))%>%
ggplot(aes(date,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free_x")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
filter(year==c("2010","2020"))%>%
ggplot(aes(date,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free_x")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
filter(year==c("2009","2010","2020"))%>%
ggplot(aes(month,claims))+
geom_col()+
facet_grid(rows=vars(as_factor(year)),scales="free_x")
#Using the previous chart we can show each year :
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
ggplot(aes(date,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free_x", shrink=TRUE)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
filter(year==c("2010","2020"))%>%
ggplot(aes(date,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free")
?mutate
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2010","2020"))%>%
ggplot(aes(,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2010","2020"))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2010","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free")
?week
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2018","2019","2019"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2008","2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2018", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2008", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2009", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2010", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
#Using the previous chart we can show each year :
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%
ggplot(aes(date,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)),scales="free_x", shrink=TRUE)
#Using the previous chart we can show years stacked to show the outsized effect of COVIUD-19  :
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==top(year))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
?top
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
table(year)
?table
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
table(year,claims)
va_claims
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
table(year,sum(claims))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
table(year)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
summarise(year)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
table(as.factor(year))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
filter(rank(desc(claims)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(rank(desc(claims)))
claims
va_claims%>%filter(rank(claims))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%group_by(year)%>%
filter(rank(desc(claims)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%group_by(year)%>%
filter(rank(claims))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%group_by(year)%>%
filter(rank(claims)<=5)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum==sum(claims))
filter(rank(claims)<=5)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum==sum(claims))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%
filter(rank(claims)<=5)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%
filter(rank(yrSum)<=5)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%
table(yrSum)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%summarise()
table(yrSum)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%summarise()
table(yrSum)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%summarise()
?sumamrise
?summarise
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%summarise(year,yrSum)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%summarise(sum=yrSum)
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%
filter(week==1)%>%
filter(rank(yrSum)<=5)
va_claims%>%ggplot(aes(date,claims))+geom_line(color="gray")
#Using the previous chart we can show years stacked to show the outsized effect of COVIUD-19  :
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2010", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
group_by(year)%>%
mutate(yrSum=sum(claims))%>%
filter(week==1)%>%
filter(rank(yrSum)<=5)
va_claims%>%group_by(year)filter(rank(claims))
knitr::opts_chunk$set(echo = FALSE)
library(tidyquant)
library(tidyverse)
va_claims%>%ggplot(aes(date,claims))+geom_line(color="gray")
va_claims <- "VAICLAIMS" %>%
tq_get(get = "economic.data",from = "1999-01-01") %>%
rename(claims = price)
library(tidyquant)
library(tidyverse)
va_claims <- "VAICLAIMS" %>%
tq_get(get = "economic.data",from = "1999-01-01") %>%
rename(claims = price)
va_claims %>%
slice(1, n())
n(va_claims)
?n()
str(va_claims)
va_claims %>%
slice(1, n())
summarise(va_claims)
str(va_claims)
summarise(va_claims)
?summarise
?slice
va_claims%>%top_n(claims)
?top_n
max(va_claims)
max(va_claims$claims)
va_claims%>%top_n(n=10,wt=claims)
va_claims%>%desc(top_n(n=10,wt=claims))
va_claims%>%top_n(n=10,wt=claims)
va_claims%>%top_n(n=-10,wt=claims)
va_claims%>%top_n(n=5,wt=claims)
va_claims%>%-top_n(n=5,wt=claims)
va_claims%>%top_n(n=5,wt=claims)%>%desc()
?desc
?arrange()
va_claims%>%top_n(n=5,wt=claims)%>%arrange()
va_claims%>%top_n(n=5,wt=claims)%>%arrange(claims)
va_claims%>%top_n(n=5,wt=claims)%>%arrange(ascen(claims))
?desc
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims))
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims),date)
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims))%>%-symbol
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims))
```{r, include=TRUE}
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims))%>%select(-symbol)
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims))%>%select(-symbol)%>%str()
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims))%>%select(-symbol)
va_claims %>%
slice(1, n())
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(claims))+geom_bar()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(date))+geom_bar()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(date))+geom_col()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(claims,date))+geom_col()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(date,claims))+geom_col()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(date,as.character(claims)))+geom_col()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(as.character(date),as.character(claims)))+geom_col()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(as.character(date),claims))+geom_col()
va_claims%>%top_n(n=5,wt=claims)%>%arrange(desc(claims))%>%ggplot(aes(as.character(date),claims))+geom_col()
va_claims%>%top_n(n=5,wt=claims)%>%ggplot(aes(as.character(date),claims))+geom_col()
va_claims%>%mutate(year=year(date),
month=month(date, label=T, abbr=T))
va_claims%>%mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%[1,]
va_claims%>%mutate(year=year(date),
month=month(date, label=T, abbr=T))%>%slice(1)
va_claims%>%mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
slice(1)
#Using the previous chart we can show years stacked to show the outsized effect of COVIUD-19  :
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2010", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2017", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2017", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2017", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2017", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2017", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)), scales="free")
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2017", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)))
va_claims%>%
mutate(year=year(date),
month=month(date, label=T, abbr=T),
week=week(date))%>%
filter(year==c("2017", "2018","2019","2020"))%>%
ggplot(aes(week,claims))+
geom_line()+
facet_grid(rows=vars(as_factor(year)), scales="free")
df <- data.frame(runif(3), runif(3))
names(df) <- c(1, 2)
df
df$1+df$2
df1<-df$1+df$2
df1<-df$1 + df$2
df1<-df$"1" + df$"2"
df$"1" + df$"2"
a <- 1:10
b <- a
c <- b
d <- 1:10
install.packages("lobstr")
library(lobstr)
obj_addr(a)
obj_addr(d)
obj_addr(b)
obj_addr(c)
mean
base::mean
get("mean")
evalq(mean)
match.fun("mean")
obj_addr(mean)
obj_addr(match.fun("mean"))
?read.csv
?make.names
